import * as Cesium from 'cesium';
const img = 'data:image/png;base64,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'


const DashStrokeMaterialSource = `
in float v_polylineAngle; 
uniform float dashLength;
uniform float uTime;
uniform sampler2D imageTexture; // 填充图片纹理


const float maskLength = 16.0;
mat2 rotate(float rad) {
    return mat2(cos(rad), sin(rad), -sin(rad), cos(rad));
}
czm_material czm_getMaterial(czm_materialInput materialInput) {
    czm_material material = czm_getDefaultMaterial(materialInput);
    vec2 st = materialInput.st;
    
    // 核心虚线逻辑
    // pos 像素的坐标 rotate(v_polylineAngle) * gl_FragCoord.xy 通用最优范式
    vec2 pos = rotate(v_polylineAngle) * gl_FragCoord.xy;

    float t = fract(uTime / 5000.0);
    t = clamp(t, 0.0, 1.0);

    material.alpha = 0.1;
    if(st.s >= t - 0.1 && st.s < t) {
        float dashPos = (st.s - (t - 0.1)) / 0.1;
        vec2 texCoord = vec2(dashPos, materialInput.st.t);
        vec4 patternColor = texture(imageTexture, texCoord);
        material.emission = czm_gammaCorrect(patternColor).rgb * 3.0; // 加强亮度
        material.alpha = patternColor.a;
    }


    

    return material;
}
`

class FlowLineMaterial {
  constructor(options = {}) {
    this._definitionChanged = new Cesium.Event();
    // 唯一材质类型名，避免冲突
    this._type = 'FlowLineMaterial'
    // 响应式属性
    this._dashLength = options.dashLength || 30.0;

    // 1. 默认纹理：优先用传入的，否则加载内置默认图片（建议替换为你的默认图片路径）
    this._setImageTexture(options.imageTexture || img);
    this._registerMaterial();
  }
  _setImageTexture(url) {
    this._imageTexture = url
  }
  _registerMaterial() {
    const type = this._type;
    // 清理旧缓存
    if (Cesium.Material._materialCache.getMaterial(type)) {
      delete Cesium.Material._materialCache._materials[type];
    }
    Cesium.Material._materialCache.addMaterial(type, {
      fabric: {
        type: type,
        uniforms: {
          dashLength: 16.0,
          imageTexture: this._imageTexture, // 注册默认纹理到uniform
          uTime: 0
        },
        source: DashStrokeMaterialSource
      },
      translucent: () => true
    });
  }
  getType() {
    return this._type;
  }
  getValue(time, result) {
    if (!result) result = {};
    result.dashLength = this._dashLength;
    result.imageTexture = this._imageTexture; // 传递纹理到着色器
    result.uTime = performance.now()
    return result;
  }
  equals(other) {
    return this === other || (other instanceof FlowLineMaterial && other._type === this._type);
  }

  // 5. 新增：设置自定义纹理的方法
  async setImageTexture(texture) {
    if (this._imageTexture !== texture) {
      await this._setImageTexture(texture);
      this._definitionChanged.raiseEvent();
    }
  }

  setDashLength(length) {
    if (this._dashLength !== length) {
      this._dashLength = length;
    }
  }
  static get isConstant() { return true; }
  get definitionChanged() { return this._definitionChanged; }
}
export default FlowLineMaterial;